language: python
python: 3.6
#     - 3.4
#     - 3.5
#     - 3.6
matrix:
  include:
    - python: 3.7
      env: TEST_SUITE=avocato
      dist: xenial
      sudo: required
      script:
        - pip install -r requirements/test.txt
        - py.test tests/avocato/
    - python: 3.7
      env: TEST_SUITE=django
      dist: xenial
      sudo: required
      install:
        - pip install -r requirements/test.txt
        - pip install -r requirements/django.txt
      script:
        - py.test tests/vendors/test_django.py
    - python: 3.7
      env: TEST_SUITE=peewee
      dist: xenial
      sudo: required
      install:
        - pip install -r requirements/test.txt
        - pip install -r requirements/peewee.txt
      script:
        - py.test tests/vendors/test_peewee.py

install: 
    - pip install -r requirements/test.txt
before_script:
    - flake8 .
# script:
#     - py.test --cov=./
# after_success:
#   - codecov
branches:
  only:
    - master